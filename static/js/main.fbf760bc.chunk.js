(this["webpackJsonpmemory-game-react-redux"]=this["webpackJsonpmemory-game-react-redux"]||[]).push([[0],{11:function(e,a,t){e.exports={GameOver:"GameOver_GameOver__aWn7F",Title:"GameOver_Title__fYN6-",ButtonStart:"GameOver_ButtonStart__16gYv"}},15:function(e,a,t){e.exports={Game:"Game_Game__2qp9N",GameTitle:"Game_GameTitle__9CMfW"}},17:function(e,a,t){e.exports={Field:"Field_Field__1LPlV"}},20:function(e,a,t){e.exports=t(32)},31:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(5),c=t.n(i),o=t(6),s=t(7),l=t(9),d=t(8),m=t(10),u=t(17),p=t.n(u),f=t(3),v=[{imageId:1,imageSrc:"/img/chicken.png"},{imageId:2,imageSrc:"/img/cat.png"},{imageId:3,imageSrc:"/img/chameleon.png"},{imageId:4,imageSrc:"/img/cow.png"},{imageId:5,imageSrc:"/img/duck.png"},{imageId:6,imageSrc:"/img/lion.png"},{imageId:7,imageSrc:"/img/pig.png"},{imageId:8,imageSrc:"/img/toucan.png"}];function g(){return function(e){e(function(e){return{type:"CARDS_LOADED",cards:e}}(function(){var e=v.slice();e.forEach((function(a){e.push(Object.assign({},a))}));for(var a=e.length-1;a>0;a--){var t=Math.floor(Math.random()*(a+1)),r=[e[t],e[a]];e[a]=r[0],e[t]=r[1]}for(var n={},i=0;i<e.length;i++){var c=e[i];c.id=i+1,n[c.id]=c}return n}()))}}function _(e){return function(a,t){var r=t().cards,n=r.list,i=r.flippedCards,c=r.guessedCards;if(-1===i.indexOf(e)){var o=[],s=!0,l=!1,d=void 0;try{for(var m,u=i[Symbol.iterator]();!(s=(m=u.next()).done);s=!0){var p=m.value;-1===c.indexOf(p)&&o.push(p)}}catch(y){l=!0,d=y}finally{try{s||null==u.return||u.return()}finally{if(l)throw d}}var f=i.slice();if(1===o.length){if(n[e].imageId===n[o[0]].imageId){var v=c.slice().concat([e,o[0]]);v.length===Object.keys(n).length&&a({type:"SET_GAME_OVER",isOver:!0}),a({type:"SET_GUESSED_CARDS",ids:v})}else setTimeout((function(){for(var t=0,r=[o[0],e];t<r.length;t++){var n=r[t],i=f.indexOf(n);-1!==i&&f.splice(i,1)}a(E(f.slice()))}),500);a({type:"INCREMENT_MOVE"})}else{var g=!0,_=!1,O=void 0;try{for(var h,C=o[Symbol.iterator]();!(g=(h=C.next()).done);g=!0){var S=h.value,b=f.indexOf(S);-1!==b&&f.splice(b,1)}}catch(y){_=!0,O=y}finally{try{g||null==C.return||C.return()}finally{if(_)throw O}}}f.push(e),a(E(f))}}}function E(e){return{type:"SET_FLIPPED_CARDS",ids:e}}var O=t(4),h=t.n(O),C=function(e){var a=[h.a.Inner];return e.isFlipped&&a.push(h.a.InnerFlipped),n.a.createElement("div",{className:h.a.Card,onClick:function(){return e.onClick(e.card.id)}},n.a.createElement("div",{className:a.join(" ")},n.a.createElement("div",{className:h.a.Front}),n.a.createElement("div",{className:h.a.Back},n.a.createElement("img",{src:e.card.imageSrc,alt:"card "+e.card.id}))))},S=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(n)))).cardClickHandler=function(e){t.props.flipCard(e)},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.initField()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:p.a.Field},Object.keys(this.props.cards).map((function(a){var t=e.props.cards[a],r=-1!==e.props.flippedCards.indexOf(t.id);return n.a.createElement(C,{key:t.id,card:t,onClick:e.cardClickHandler,isFlipped:r})})))}}]),a}(n.a.Component);var b=Object(f.b)((function(e){return{cards:e.cards.list,flippedCards:e.cards.flippedCards}}),(function(e){return{initField:function(){return e(g())},flipCard:function(a){return e(_(a))}}}))(S),y=t(15),w=t.n(y),N=t(11),G=t.n(N),j=function(e){return n.a.createElement("div",{className:G.a.GameOver},n.a.createElement("div",{className:G.a.Title},"Bravo! You did it in ",e.moves," moves!"),n.a.createElement("button",{className:G.a.ButtonStart,onClick:e.onStartNewGame},"Start new game"))},k=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(n)))).clickNewGameHandler=function(){t.props.startNewGame()},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:w.a.Game},this.props.isOver?n.a.createElement(j,{moves:this.props.moves,onStartNewGame:this.clickNewGameHandler}):n.a.createElement("div",{className:w.a.GameTitle},"Find pairs of images under the following tiles"))}}]),a}(n.a.Component);var I=Object(f.b)((function(e){return{isOver:e.game.isOver,moves:e.game.moves}}),(function(e){return{startNewGame:function(){return e((g(),{type:"NEW_GAME"}))}}}))(k),D=(t(31),function(){return n.a.createElement("main",null,n.a.createElement(I,null),n.a.createElement(b,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=t(1),F=t(2),A={list:{},flippedCards:[],guessedCards:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CARDS_LOADED":return Object(F.a)({},e,{list:a.cards});case"SET_FLIPPED_CARDS":return Object(F.a)({},e,{flippedCards:a.ids});case"SET_GUESSED_CARDS":return Object(F.a)({},e,{guessedCards:a.ids});case"NEW_GAME":return Object(F.a)({},e,{guessedCards:[],flippedCards:[]});default:return e}},x={isOver:!1,moves:0},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_GAME_OVER":return Object(F.a)({},e,{isOver:a.isOver});case"INCREMENT_MOVE":return Object(F.a)({},e,{moves:e.moves+1});case"NEW_GAME":return{moves:0,isOver:!1};default:return e}},B=Object(T.c)({cards:M,game:R}),P=t(19),L="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):T.d,V=Object(T.e)(B,L(Object(T.a)(P.a))),W=n.a.createElement(f.a,{store:V},n.a.createElement(D,null));c.a.render(W,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,a,t){e.exports={Card:"Card_Card__2v91Y",Inner:"Card_Inner__3f39O",InnerFlipped:"Card_InnerFlipped__27bYk",Front:"Card_Front__2A_QT",Back:"Card_Back__3gDbP"}}},[[20,1,2]]]);
//# sourceMappingURL=main.fbf760bc.chunk.js.map